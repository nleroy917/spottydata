{"version":3,"sources":["../../../../../next-server/server/lib/squoosh/image_data.ts"],"names":["ImageData","from","input","data","_data","width","height","Object","prototype","toString","call","Buffer","values","Uint8Array","Uint8ClampedArray","Error","constructor"],"mappings":"4DAAe,KAAMA,CAAAA,SAAU,CAC7B,MAAOC,CAAAA,IAAP,CAAYC,KAAZ,CAAyC,CACvC,MAAO,IAAIF,CAAAA,SAAJ,CAAcE,KAAK,CAACC,IAAN,EAAcD,KAAK,CAACE,KAAlC,CAAyCF,KAAK,CAACG,KAA/C,CAAsDH,KAAK,CAACI,MAA5D,CAAP,CACD,CAMD,GAAIH,CAAAA,IAAJ,EAAmB,CACjB,GAAII,MAAM,CAACC,SAAP,CAAiBC,QAAjB,CAA0BC,IAA1B,CAA+B,KAAKN,KAApC,IAA+C,iBAAnD,CAAsE,CACpE,MAAOO,CAAAA,MAAM,CAACV,IAAP,CAAYM,MAAM,CAACK,MAAP,CAAc,KAAKR,KAAnB,CAAZ,CAAP,CACD,CACD,GACE,KAAKA,KAAL,WAAsBO,CAAAA,MAAtB,EACA,KAAKP,KAAL,WAAsBS,CAAAA,UADtB,EAEA,KAAKT,KAAL,WAAsBU,CAAAA,iBAHxB,CAIE,CACA,MAAOH,CAAAA,MAAM,CAACV,IAAP,CAAY,KAAKG,KAAjB,CAAP,CACD,CACD,KAAM,IAAIW,CAAAA,KAAJ,CAAU,WAAV,CAAN,CACD,CAEDC,WAAW,CACTb,IADS,CAETE,KAFS,CAGTC,MAHS,CAIT,MAtBMF,KAsBN,aArBFC,KAqBE,aApBFC,MAoBE,QACA,KAAKF,KAAL,CAAaD,IAAb,CACA,KAAKE,KAAL,CAAaA,KAAb,CACA,KAAKC,MAAL,CAAcA,MAAd,CACD,CA/B4B,C","sourcesContent":["export default class ImageData {\n  static from(input: ImageData): ImageData {\n    return new ImageData(input.data || input._data, input.width, input.height)\n  }\n\n  private _data: Buffer | Uint8Array | Uint8ClampedArray\n  width: number\n  height: number\n\n  get data(): Buffer {\n    if (Object.prototype.toString.call(this._data) === '[object Object]') {\n      return Buffer.from(Object.values(this._data))\n    }\n    if (\n      this._data instanceof Buffer ||\n      this._data instanceof Uint8Array ||\n      this._data instanceof Uint8ClampedArray\n    ) {\n      return Buffer.from(this._data)\n    }\n    throw new Error('invariant')\n  }\n\n  constructor(\n    data: Buffer | Uint8Array | Uint8ClampedArray,\n    width: number,\n    height: number\n  ) {\n    this._data = data\n    this.width = width\n    this.height = height\n  }\n}\n"]}